@model BPL_Project.Models.Trabalho

@{
    ViewBag.Title = "Create";
}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    <div class="form-style-10">
        <h2>Cadastro de Trabalho</h2>
        <span class="text-info">* Todos os itens são obrigatórios</span>
        <h4 class="text-danger">@ViewData["Message"]</h4>
        <div class="section"><span>1</span>Dados Gerais</div>
        <div class="inner-wrap">
            <label>
                Título
                @Html.EditorFor(model => model.Assunto, new { htmlAttributes = new { @class = "form-control w3-input" } })
                @Html.ValidationMessageFor(model => model.Assunto, "", new { @class = "text-danger" })
            </label>
            <label>
                Data de início
                @Html.EditorFor(model => model.Data_Inicio, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Data_Inicio, "", new { @class = "text-danger" })
                <span class="text-danger">@ViewData["data_inicio"]</span>
            </label>
            <label>
                Data de execução
                @Html.EditorFor(model => model.Data_Tranca, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Data_Tranca, "", new { @class = "text-danger" })
                <span class="text-danger">@ViewData["data_tranca"]</span>
            </label>
            <label>
                Data fim
                @Html.EditorFor(model => model.Data_Fim, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Data_Fim, "", new { @class = "text-danger" })
                <span class="text-danger">@ViewData["data_fim"]</span>
            </label>
         </div>
        <div class="section"><span>2</span>Problema</div>
        <div class="inner-wrap">
            @Html.EditorFor(model => model.Problema, new { htmlAttributes = new { @class = "form-control w3-input" } })
            @Html.ValidationMessageFor(model => model.Problema, "", new { @class = "text-danger" })
        </div>
            <div class="button-section">
                <input type="submit" value="Cadastrar" class="btn btn-default w3-blue w3-hover-blue w3-left" />
                <input type="button" class="btn btn-default w3-red w3-hover-red w3-right" style="border-color:#b94a48!important" value="Cancelar" onClick="history.go(-1)">
            </div>
        
    </div>
}

@section Scripts {
<script>
        $(document).ready(function () {
            $('.error').hide();
            $('.submit').click(function (event) {
                var _data = $('.Data_Inicio').val();
                if (validar_data(_data)) {
                    $('.error').hide();
                }
                else {
                    $('.error').show();
                    event.preventDefault();
                }
            });
        });
        function validar_data(_data) {
            var padrao = DateTime.Today.Date;
            if (padrao == _data) {
                return true;
            }
            return false;
        }
</script>

    @Scripts.Render("~/bundles/jqueryval")
}
